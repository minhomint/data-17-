<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>랜덤이 만든 레전드플레이 | 민호특공대</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Pretendard', sans-serif;
      background-color: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      padding: 10px;
      text-align: center;
    }
    h1 {
      font-size: 1.4rem;
      margin: 10px 0;
      font-weight: 600;
    }
    iframe {
      width: 100%;
      max-width: 720px;
      height: 405px;
      border: none;
      margin: 10px 0;
      border-radius: 12px;
    }
    #videoTitle {
      font-size: 1.1rem;
      margin: 8px 0;
      font-weight: 500;
    }
    #countdown {
      font-size: 1rem;
      margin: 8px 0;
      color: #ffcc00;
    }
    button {
      background-color: #ff4444;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 18px;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 6px;
      transition: background 0.3s;
    }
    button:hover { background-color: #ff6666; }
    footer {
      font-size: 0.8rem;
      color: #bbb;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>🎵 랜덤이 만든 레전드플레이 | 민호특공대 🎵</h1>
  
  <div id="player-container">
    <iframe id="videoFrame" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    <div id="videoTitle">영상 제목 표시</div>
    <div id="countdown">대기 중...</div>
    <button onclick="playNextRandom()">🔄 다음 곡 랜덤 재생</button>
  </div>

  <footer>© 민호특공대 | 랜덤 재생 시스템</footer>

  <script>
    // ✅ Firebase 설정 (연결용, 영상 기능과는 직접 관계 없음)
    const firebaseConfig = {
      apiKey: "AIzaSyDk0r98Ag5htVKH-vVxUzG52SYNcX1G0sA",
      authDomain: "analog-vol1-mv.firebaseapp.com",
      databaseURL: "https://analog-vol1-mv-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "analog-vol1-mv",
      storageBucket: "analog-vol1-mv.firebasestorage.app",
      messagingSenderId: "40601613117",
      appId: "1:40601613117:web:de43110328bc627df14b54",
      measurementId: "G-SRN2TZCE82"
    };

    // 🎬 재생할 영상 목록
   const videos = [ 
       { id: 'Ghg7vG3NMs4', title: 'Hankyeryeong Pass', initialViews: 0}, 
       { id: 'ILppFoa3FTI', title: 'Lonely Love', initialViews: 0 }, 
       { id: 'DKgiBUaZXr4', title: 'My Reflection in My Heart', initialViews: 0 }, 
       { id: 'BRiBNS0aTVo', title: '내 곁에 있어주 | 야외녹음실 ｜LIVE', initialViews: 0 }, 
       { id: '1LlNcwtxsgg', title: 'I\'ll Give You the Love I Have Left', initialViews: 0}, 
       { id: 'rsW-F7IRGmU', title: 'Just a Friend', initialViews: 0 }, 
       { id: 'H8ZnFKkc7ps', title: 'That Day', initialViews: 0 }, 
       { id: 'q78AVE07wdI', title: 'I will let go', initialViews: 0 }, 
       { id: '0JeQF_nrSmU', title: '내 곁에 있어주 (Stay by My Side) Official MV', initialViews:0 }, 
       { id: '33xZoSnV5t0', title: 'Stay by My Side(내 곁에 있어주) | 1theK', initialViews: 0 }, 
       { id: 'ZJo6KHpI-2k', title: '한계령 (Hankyeryeong Pass) Official MV', initialViews:0 }, 
       { id: 'C7Y9D4hV3QU', title: 'Hankyeryeong Pass(한계령) | 1theK', initialViews: 0 }, 
       { id: 'iQ4CCJgJKXM', title: '홀로된 사랑 | 트롯챔피언 | EP.72', initialViews: 0}, 
       { id: '-zYhlQn6yVI', title: '내 이름 아시죠 | 사랑의콜센타', initialViews: 0}, 
       { id: 'ZOPl8hBKd5c', title: ' 하이뮨의 NEW CF 촬영 현장', initialViews: 0 }, 
       {id: 'jXJKJc5fZnE', title: '홀로된 사랑 (Lonely Love) Official MV', initialViews: 0}, 
       { id: '6lq_G6l4xRs', title: 'Lonely Love(홀로된 사랑) | 1theK', initialViews: 0 }
    ];

    let currentIndex = -1;
    let countdownInterval;

    // 🎯 95~105초 중 랜덤 시간 추출
    function getRandomTime() {
      return Math.floor(Math.random() * (105 - 95 + 1)) + 95;
    }

    // 🎵 랜덤 영상 재생
    function playNextRandom() {
      clearInterval(countdownInterval);
      const randomIndex = Math.floor(Math.random() * videos.length);
      currentIndex = randomIndex;
      const video = videos[randomIndex];
      const iframe = document.getElementById("videoFrame");
      const randomStart = Math.floor(Math.random() * 20); // 시작 위치 약간 랜덤
      iframe.src = `https://www.youtube.com/embed/${video.id}?autoplay=1&start=${randomStart}`;
      document.getElementById("videoTitle").textContent = video.title;
      startCountdown(getRandomTime());
    }

    // ⏳ 카운트다운 표시 및 시간 종료 시 다음 영상 재생
    function startCountdown(seconds) {
      const countdown = document.getElementById("countdown");
      countdown.textContent = seconds + "초";
      countdownInterval = setInterval(() => {
        seconds--;
        countdown.textContent = seconds + "초";
        if (seconds <= 0) {
          clearInterval(countdownInterval);
          playNextRandom();
        }
      }, 1000);
    }

    // 🟢 페이지 진입 후 첫 영상은 클릭 시 시작
    window.onload = () => {
      document.getElementById("videoFrame").src = "";
      document.getElementById("videoTitle").textContent = "🎬 클릭하면 첫 영상 재생!";
      document.getElementById("countdown").textContent = "준비 완료!";
    };
  </script>
</body>
</html>
